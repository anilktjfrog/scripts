# compare_repos

A Bash script to compare file contents between repositories on two different JFrog Artifactory servers using the JFrog CLI.

## Prerequisites

- [JFrog CLI](https://jfrog.com/getcli/) installed and configured with server IDs for both source and target Artifactory instances.
- [jq](https://jqlang.org/) installed for JSON parsing.

## Usage

```bash
./compare_repos.sh <SOURCE_ID> <TARGET_ID> "<REPO_LIST>"
```

- `SOURCE_ID`: Source Artifactory server ID (as configured in JFrog CLI)
- `TARGET_ID`: Target Artifactory server ID (as configured in JFrog CLI)
- `REPO_LIST`: Space-separated list of repositories to compare, enclosed in quotes

### Example

```bash
./compare_repos.sh src-server tgt-server "repo1 repo2 repo3"
```

## What It Does

- Fetches file lists (with SHA256) from each specified repository on both source and target servers.
- Compares the lists to find files present in the source but missing in the target.
- Filters out common metadata and system files.
- Outputs the differences for each repository in a timestamped directory (e.g., `out_1681234567`).

## Output

- Results are saved in the output directory, one file per repository (e.g., `out_1681234567/repo1.txt`).

## Notes

- The script skips common metadata files and directories generated by Artifactory.
- Temporary files are cleaned up after each comparison.
